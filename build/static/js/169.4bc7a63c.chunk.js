(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[169],{2162:function(e,t,a){"use strict";a.r(t);var r=a(28),c=a(1),n=a(811),s=a(473),i=a(504),l=a.n(i),d=a(81),o=a(484),u=a(479),j=a(481),b=a(508),m=a(482),x=a(488),h=a(478),O=a(486),p=a.n(O),f=a(487),g=a(600),v=(a(1233),function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)({url:"/admin/rewards/deleted",method:"GET"},t);case 2:if(!(a=e.sent)){e.next=12;break}if(!a.data.data||!a.data.success){e.next=9;break}return e.next=7,t({type:"GET_ALL_HISTORY",data:a.data.data});case 7:e.next=10;break;case 9:console.log(a.error);case 10:e.next=13;break;case 12:Object(o.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),w=function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(r){var c,n,s,i,l,d,u,j;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=t.q,n=void 0===c?"":c,s=t.perPage,i=void 0===s?10:s,l=t.page,d=void 0===l?1:l,u=n.toLowerCase(),j=null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(u)||e.type.toLowerCase().includes(u)})),r({type:"GET_FILTERED_HISTORY",data:Object(o.i)(j,i,d),totalPages:null===j||void 0===j?void 0:j.length,params:t});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},N=a(469),y=a(547),R=a(555),S=a(539),k=a(1065),_=a(577),C=a(556),E=a(571),L=a(591),D=a(6),T=L.c().shape({reward_id:L.d().required("required")}),I=function(e){var t=e.selectedReward,a=Object(d.b)(),n=Object(c.useState)(!1),s=Object(r.a)(n,2),i=s[0],l=s[1];return Object(D.jsxs)("div",{children:[Object(D.jsx)(N.a.Ripple,{className:"text-center mb-1",color:"danger",outline:!0,block:!0,onClick:function(){return l(!i)},children:"Delete Reward"}),Object(D.jsxs)(y.a,{isOpen:i,toggle:function(){return l(!i)},className:"modal-dialog-centered",children:[Object(D.jsx)(R.a,{toggle:function(){return l(!i)},children:"Delete Reward"}),Object(D.jsx)(E.d,{initialValues:{reward_id:null===t||void 0===t?void 0:t.id},validationSchema:T,onSubmit:function(){var e=Object(f.a)(p.a.mark((function e(t,r){var c,n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.setSubmitting,n=JSON.stringify(t),e.prev=2,e.next=5,Object(o.a)({url:"/admin/rewards/delete",method:"POST",body:n},a);case 5:(s=e.sent)?s.data.success?(Object(o.l)("Great job!",s.data.message,"success"),a(Object(g.a)()),a(v())):Object(o.l)("Oops!",s.data.message,"error"):Object(o.l)("Oops!","Something went wrong with your network.","error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error({error:e.t0});case 12:c(!1),l(!i);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.touched,r=e.isSubmitting;return Object(D.jsxs)(E.c,{children:[Object(D.jsx)(S.a,{children:Object(D.jsxs)(k.a,{children:[Object(D.jsx)("label",{htmlFor:"reward_id",children:"Reward Id"}),Object(D.jsx)(E.b,{type:"number",name:"reward_id",placeholder:"reward id",className:"form-control ".concat(t.reward_id&&a.reward_id&&"is-invalid")}),Object(D.jsx)(E.a,{name:"reward_id",component:"div",className:"field-error text-danger"})]})}),Object(D.jsx)(_.a,{children:Object(D.jsxs)(N.a.Ripple,{color:"primary",type:"submit",disabled:r,children:[r&&Object(D.jsx)(C.a,{color:"white",size:"sm"}),Object(D.jsx)("span",{className:"ml-50",children:"Delete Reward"})]})})]})}})]})]})},q=(a(124),function(e){var t=e.selectedReward,a=Object(c.useState)(!1),n=Object(r.a)(a,2);n[0],n[1];return Object(D.jsxs)(m.a,{className:"plan-card border-primary",children:[Object(D.jsx)(x.a,{className:"d-flex justify-content-between align-items-center pt-75 pb-1",children:Object(D.jsx)("h5",{className:"mb-0",children:"Actions"})}),Object(D.jsx)(h.a,{children:Object(D.jsx)(I,{selectedReward:t})})]})}),P=a(483),G=a(1165),W=a(1107),z=a(1191),A=a(1205),F=a(1164),J=a(1118),U=a(1116),V=function(e){var t,a=e.selectedReward;return Object(D.jsx)(m.a,{children:Object(D.jsx)(h.a,{children:Object(D.jsxs)(u.a,{children:[Object(D.jsx)(j.a,{xl:"6",lg:"12",className:"mt-2 mt-xl-0",children:Object(D.jsxs)("div",{className:"user-info-wrapper",children:[Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-primary",children:Object(D.jsx)(G.a,{className:"text-primary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title text-capitalize font-weight-bold mb-0 ml-1",children:"Reward"})]}),Object(D.jsx)(P.a,{className:"text-capitalize mb-0",children:a.name})]}),Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(D.jsx)(W.a,{className:"text-secoundary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Reward Type"})]}),Object(D.jsx)(P.a,{className:"mb-0",children:a.type})]}),Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(D.jsx)(z.a,{className:"text-secoundary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Quantity"})]}),Object(D.jsx)(P.a,{className:"text-capitalize mb-0",children:null===a||void 0===a?void 0:a.qty})]}),Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(D.jsx)(A.a,{className:"text-secoundary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Coin Value"})]}),Object(D.jsx)(P.a,{className:"text-capitalize mb-0",children:null===a||void 0===a?void 0:a.coin})]})]})}),Object(D.jsx)(j.a,{xl:"6",lg:"12",className:"mt-2 mt-xl-0",children:Object(D.jsxs)("div",{className:"user-info-wrapper",children:[Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(D.jsx)(F.a,{className:"text-secoundary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Plan Id"})]}),Object(D.jsx)(P.a,{className:"text-capitalize mb-0",children:null===a||void 0===a?void 0:a.data_plan_id})]}),Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(D.jsx)(z.a,{className:"text-secoundary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Naira Value"})]}),Object(D.jsx)(P.a,{className:"text-capitalize mb-0",children:null===a||void 0===a||null===(t=a.value)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"NGN"})})]}),Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(D.jsx)(J.a,{className:"text-secoundary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Reward Status"})]}),Object(D.jsx)(P.a,{className:"text-capitalize mb-0",children:null===a||void 0===a?void 0:a.status})]}),Object(D.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(D.jsx)(U.a,{className:"text-secoundary"})}),Object(D.jsx)(P.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Reward Image"})]}),Object(D.jsx)("img",{src:null===a||void 0===a?void 0:a.image,width:"80px",style:{borderRadius:"50px"}})]})]})})]})})})},H=(a(477),L.c().shape({reward_id:L.d().required("required")})),Q=function(){var e=Object(d.b)(),t=(Object(n.i)().id,Object(d.c)((function(e){return e.appiaDeletedRewards})),Object(c.useState)(!1)),a=Object(r.a)(t,2),s=a[0],i=a[1];return Object(D.jsxs)("div",{children:[Object(D.jsx)(N.a.Ripple,{className:"text-center mb-1 mt-1",color:"success",outline:!0,onClick:function(){return i(!s)},children:"Restore Reward"}),Object(D.jsxs)(y.a,{isOpen:s,toggle:function(){return i(!s)},className:"modal-dialog-centered",children:[Object(D.jsx)(R.a,{toggle:function(){return i(!s)},children:" Restore Reward"}),Object(D.jsx)(E.d,{initialValues:{reward_id:""},validationSchema:H,onSubmit:function(){var t=Object(f.a)(p.a.mark((function t(a,r){var c,n,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.setSubmitting,n=JSON.stringify(a),t.prev=2,t.next=5,Object(o.a)({url:"/admin/rewards/restore",method:"POST",body:n},e);case 5:(l=t.sent)?l.data.success?(Object(o.l)("Great job!",l.data.message,"success"),e(v()),e(Object(g.a)())):Object(o.l)("Oops!",l.data.message,"error"):Object(o.l)("Oops!","Something went wrong with your network.","error"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error({error:t.t0});case 12:c(!1),i(!s);case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.touched,r=e.isSubmitting;return Object(D.jsxs)(E.c,{children:[Object(D.jsx)(S.a,{children:Object(D.jsxs)(k.a,{children:[Object(D.jsx)("label",{htmlFor:"reward_id",children:"Reward Id"}),Object(D.jsx)(E.b,{type:"number",name:"reward_id",placeholder:"reward id",className:"form-control ".concat(t.reward_id&&a.reward_id&&"is-invalid")}),Object(D.jsx)(E.a,{name:"reward_id",component:"div",className:"field-error text-danger"})]})}),Object(D.jsx)(_.a,{children:Object(D.jsxs)(N.a.Ripple,{color:"primary",type:"submit",disabled:r,children:[r&&Object(D.jsx)(C.a,{color:"white",size:"sm"}),Object(D.jsx)("span",{className:"ml-50",children:"Restore Reward"})]})})]})}})]})]})},Y=a(1084),M={pending:"light-warning",active:"light-success",inactive:"light-danger"},B=[{name:"Image",minWidth:"40px",selector:"image",sortable:!0,cell:function(e){return Object(D.jsx)(Y.a,{children:Object(D.jsx)("img",{src:e.image,width:"30px",alt:""})})}},{name:"Reward Id",minWidth:"140px",selector:"id",sortable:!0,cell:function(e){return e.id}},{name:"Name",minWidth:"200px",selector:"name",sortable:!0,cell:function(e){return Object(D.jsx)("div",{className:"d-flex justify-content-left align-items-center",children:Object(D.jsx)("div",{className:"d-flex flex-column",children:Object(D.jsx)("span",{className:"font-weight-bold",children:e.name})})})}},{name:"Quantity",minWidth:"100px",selector:"qty",sortable:!0,cell:function(e){return e.qty}},{name:"Value",minWidth:"172px",selector:"value",sortable:!0,cell:function(e){var t;return null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"NGN"})}},{name:"Type",minWidth:"138px",selector:"price",sortable:!0,cell:function(e){return e.type}},{name:"Status",minWidth:"100px",selector:"status",sortable:!0,cell:function(e){return Object(D.jsx)(Y.a,{className:"text-capitalize",color:M[e.status],pill:!0,children:e.status})}},{name:"Date",minWidth:"200px",selector:"created_at",sortable:!0,cell:function(e){return l()(e.created_at).format("lll")}},{name:"Actions",minWidth:"200px",selector:"fullName",sortable:!0,cell:function(e){return Object(D.jsx)(Q,{})}}],K=a(502),X=a.n(K),Z=a(1119),$=a(513),ee=a.n($),te=a(480),ae=a(495),re=a(1079),ce=a(1062),ne=(a(519),a(503),a(550)),se=a.n(ne),ie=function(){var e,t=Object(d.b)(),a=Object(d.c)((function(e){return e.appiaDeletedRewards})),n=Object(c.useState)(""),s=Object(r.a)(n,2),i=s[0],l=s[1],b=Object(c.useState)(1),O=Object(r.a)(b,2),p=O[0],f=O[1],g=Object(c.useState)(10),N=Object(r.a)(g,2),y=N[0],R=N[1],S=Object(c.useState)({value:"",label:"Select Status"}),k=Object(r.a)(S,2),_=k[0],C=(k[1],Object(c.useState)(null)),E=Object(r.a)(C,2),L=(E[0],E[1]);Object(c.useEffect)((function(){t(v()),t(w(a.allData,{page:p,perPage:y,status:_.value,q:i}))}),[t]),Object(c.useEffect)((function(){null!==Object(o.g)()&&L(JSON.parse(localStorage.getItem("userData")))}),[]);var T=null===a||void 0===a||null===(e=a.allData)||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase()||e.type.toLowerCase()}));return Object(D.jsxs)(c.Fragment,{children:[Object(D.jsxs)(m.a,{children:[Object(D.jsx)(x.a,{children:Object(D.jsx)(te.a,{tag:"h4",children:"Search Filter"})}),Object(D.jsx)(h.a,{children:Object(D.jsx)(u.a,{children:Object(D.jsx)(j.a,{lg:"4",sm:"6",children:Object(D.jsxs)(se.a,{children:[Object(D.jsx)(ae.a,{for:"search-invoice",children:"Search:"}),Object(D.jsx)(re.a,{id:"search-invoice",type:"text",value:i,onChange:function(e){return r=e.target.value,l(r),void t(w(a.allData,{page:p,perPage:y,status:_.value,q:r}));var r}})]})})})})]}),Object(D.jsxs)(m.a,{children:[Object(D.jsx)(u.a,{className:"mx-0 mt-3",children:Object(D.jsx)(j.a,{sm:"6",children:Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)(ae.a,{for:"rows-per-page",children:"Show"}),Object(D.jsxs)(ce.a,{className:"form-control mx-50",type:"select",id:"rows-per-page",value:y,onChange:function(e){var r=parseInt(e.currentTarget.value);t(w(a.allData,{page:p,perPage:r,status:_.value,q:i})),R(r)},style:{width:"10rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0"},children:[Object(D.jsx)("option",{value:"10",children:"10"}),Object(D.jsx)("option",{value:"25",children:"25"}),Object(D.jsx)("option",{value:"50",children:"50"})]}),Object(D.jsx)(ae.a,{for:"rows-per-page",children:"Entries"})]})})}),Object(D.jsx)(ee.a,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:B,sortIcon:Object(D.jsx)(Z.a,{}),className:"react-dataTable",paginationComponent:function(){var e=Math.ceil(T.length/y);return Object(D.jsx)(X.a,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:0!==p?p-1:0,onPageChange:function(e){return function(e){t(w(a.allData,{page:e.selected+1,perPage:y,status:_.value,q:i})),f(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e={status:_.value,q:i},t=Object.keys(e).some((function(t){return e[t].length>0}));return a.data.length>0?a.data:0===a.data.length&&t?[]:a.allData.slice(0,y)}()})]})]})};a(492),t.default=function(e){var t=Object(d.c)((function(e){return e.appiaAllRewards})),a=(Object(d.b)(),Object(n.i)().id),i=Object(c.useState)(null),l=Object(r.a)(i,2),m=(l[0],l[1]),x=Object(c.useState)(null),h=Object(r.a)(x,2);h[0],h[1];return Object(c.useEffect)((function(){null!==Object(o.g)()&&m(JSON.parse(localStorage.getItem("userData")))}),[]),null!==t.selectedReward&&void 0!==t.selectedReward?Object(D.jsxs)("div",{className:"app-user-view",children:[Object(D.jsxs)(u.a,{children:[Object(D.jsx)(j.a,{xl:"9",lg:"9",md:"10",children:Object(D.jsx)(V,{selectedReward:t.selectedReward})}),Object(D.jsx)(j.a,{xl:"3",lg:"3",md:"2",children:Object(D.jsx)(q,{selectedReward:t.selectedReward})})]}),Object(D.jsx)(ie,{selectedReward:t.selectedReward})]}):Object(D.jsxs)(b.a,{color:"danger",children:[Object(D.jsx)("h4",{className:"alert-heading",children:"Users not found"}),Object(D.jsxs)("div",{className:"alert-body",children:["Users with id: ",a," doesn't exist. Check list of all Users: ",Object(D.jsx)(s.b,{to:"/app/user/list",children:"Users List"})]})]})}},492:function(e,t,a){},503:function(e,t,a){},600:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return o}));var r=a(486),c=a.n(r),n=a(487),s=a(484),i=function(){return function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)({url:"/admin/rewards/get",method:"GET"},t);case 2:if(!(a=e.sent)){e.next=12;break}if(!a.data.data||!a.data.success){e.next=9;break}return e.next=7,t({type:"GET_ALL_REWARDS",data:a.data.data});case 7:e.next=10;break;case 9:console.log(a.error);case 10:e.next=13;break;case 12:Object(s.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(r){var n,i,l,d,o,u,j,b,m,x,h;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.q,i=void 0===n?"":n,l=t.perPage,d=void 0===l?10:l,o=t.page,u=void 0===o?1:o,j=t.role,void 0===j?null:j,b=t.status,m=void 0===b?null:b,x=i.toLowerCase(),h=e.filter((function(e){return(e.name.toLowerCase().includes(x)||e.type.toLowerCase().includes(x))&&e.status===(m||e.status)})),r({type:"GET_FILTERED_REWARDS",data:Object(s.i)(h,d,u),totalPages:h.length,params:t});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},d=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(r){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.find((function(e){return e.id===t})),r({type:"GET_REWARD",selectedReward:n});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},o=function(){return function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)({url:"/admin/rewards/service-id/get",method:"GET"},t);case 2:if(!(a=e.sent)){e.next=12;break}if(!a.data.data||!a.data.success){e.next=9;break}return e.next=7,t({type:"GET_SERVICE_ID",data:a.data.data});case 7:e.next=10;break;case 9:console.log(a.error);case 10:e.next=13;break;case 12:Object(s.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=169.4bc7a63c.chunk.js.map