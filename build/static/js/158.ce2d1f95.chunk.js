(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[158],{2211:function(e,a,t){"use strict";t.r(a);var n=t(28),s=t(1),c=t(473),r=t(504),i=t.n(r),l=t(1003),o=t(990),u=t(1331),d=t(994),b=t(995),j=t(1100),p=t(1070),m=t(1020),h=t(1130),g=t(6),x={Pending:"light-warning",Active:"light-success",Inactive:"light-danger"},O=[{name:"User Id",minWidth:"120px",selector:"id",sortable:!0,cell:function(e){return e.id}},{name:"Email",minWidth:"320px",selector:"email",sortable:!0,cell:function(e){return e.email}},{name:"Status",minWidth:"100px",selector:"status",sortable:!0,cell:function(e){return Object(g.jsx)(l.a,{className:"text-capitalize",color:x[e.status],pill:!0,children:e.status})}},{name:"Date Subscribed",minWidth:"200px",selector:"created_at",sortable:!0,cell:function(e){return i()(e.created_at).format("lll")}},{name:"Actions",minWidth:"100px",selector:"fullName",sortable:!0,cell:function(e){return Object(g.jsxs)(o.a,{children:[Object(g.jsx)(u.a,{tag:"div",className:"btn btn-sm",children:Object(g.jsx)(j.a,{size:14,className:"cursor-pointer"})}),Object(g.jsxs)(d.a,{right:!0,children:[Object(g.jsxs)(b.a,{tag:c.b,to:"/appia/admin/view/".concat(e.admin_id),className:"w-100",onClick:function(){return store.dispatch(getFeedback(store.getState().appiaAdmins.allData,e.admin_id))},children:[Object(g.jsx)(p.a,{size:14,className:"mr-50"}),Object(g.jsx)("span",{className:"align-middle",children:"Details"})]}),Object(g.jsxs)(b.a,{tag:c.b,to:"/appia/admin/edit/".concat(e.id),className:"w-100",onClick:function(){return store.dispatch(getFeedback(store.getState().appiaSubscribers.allData,e.admin_id))},children:[Object(g.jsx)(m.a,{size:14,className:"mr-50"}),Object(g.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(g.jsxs)(b.a,{className:"w-100",children:[Object(g.jsx)(h.a,{size:14,className:"mr-50"}),Object(g.jsx)("span",{className:"align-middle",children:"Delete"})]})]})]})}}],v=(t(500),t(485)),f=t.n(v),N=t(486),S=t(483),w=function(e,a){return function(){var t=Object(N.a)(f.a.mark((function t(n){var s,c,r,i,l,o,u,d,b,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=a.q,c=void 0===s?"":s,r=a.perPage,i=void 0===r?10:r,l=a.page,o=void 0===l?1:l,u=a.status,d=void 0===u?null:u,b=c.toLowerCase(),j=e.filter((function(e){return e.email.toLowerCase().includes(b)&&e.status===(d||e.status)})),n({type:"GET_FILTERED_DATA",data:Object(S.i)(j,i,o),totalPages:j.length,params:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=t(81),k=t(515),D=t(502),_=t.n(D),P=t(1038),y=t(513),L=t.n(y),E=t(481),A=t(488),I=t(480),q=t(478),T=t(479),z=t(482),F=t(496),W=t(998),G=t(981),R=(t(495),t(519),t(503),t(550)),B=t.n(R),H=function(){var e=Object(C.b)(),a=Object(C.c)((function(e){return e.appiaSubscribers})),t=Object(s.useState)(""),c=Object(n.a)(t,2),r=c[0],i=c[1],l=Object(s.useState)(1),o=Object(n.a)(l,2),u=o[0],d=o[1],b=Object(s.useState)(10),j=Object(n.a)(b,2),p=j[0],m=j[1],h=Object(s.useState)({value:"",label:"Select Status",number:0}),x=Object(n.a)(h,2),v=x[0],D=x[1],y=Object(s.useState)(""),R=Object(n.a)(y,2),H=R[0],J=(R[1],H&&Date.parse(H[0])),U=H&&Date.parse(H[1]);Object(s.useEffect)((function(){e(function(){var e=Object(N.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)({url:"/admin/misc/subscribers",method:"GET"},a);case 2:if(!(t=e.sent)){e.next=12;break}if(!t.data.data||!t.data.success){e.next=9;break}return e.next=7,a({type:"GET_ALL_SUBSCRIBERS",data:t.data.data});case 7:e.next=10;break;case 9:console.log(t.error);case 10:e.next=13;break;case 12:Object(S.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),e(w(a.allData,{page:u,perPage:p,status:v.value,q:r,created_at:H}))}),[e]);var M=a.allData.filter((function(e){return e.email.toLowerCase()||e.created_at.toLowerCase()}));return Object(g.jsxs)(s.Fragment,{children:[Object(g.jsxs)(E.a,{children:[Object(g.jsx)(A.a,{children:Object(g.jsx)(I.a,{tag:"h4",children:"Search Filter"})}),Object(g.jsx)(q.a,{children:Object(g.jsxs)(T.a,{form:!0,className:"mt-1 mb-50",children:[Object(g.jsx)(z.a,{lg:"4",md:"6",children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(F.a,{for:"select",children:"Select Status:"}),Object(g.jsx)(k.a,{theme:S.j,isClearable:!1,className:"react-select",classNamePrefix:"select",id:"select",options:[{value:"",label:"Select Status",number:0},{value:"Pending",label:"Pending",number:1},{value:"Active",label:"Active",number:2},{value:"Inactive",label:"Inactive",number:3}],value:v,onChange:function(t){D(t),e(w(a.allData,{page:u,perPage:p,status:t.value,q:r}))}})]})}),Object(g.jsx)(z.a,{lg:"4",md:"6",children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(F.a,{className:"mb-0",for:"search-invoice",children:"Search:"}),Object(g.jsx)(W.a,{id:"search-invoice",type:"text",value:r,placeholder:"Email Search",onChange:function(t){return n=t.target.value,i(n),void e(w(a.allData,{page:u,perPage:p,status:v.value,q:n,created_at:H}));var n}})]})})]})})]}),Object(g.jsxs)(E.a,{children:[Object(g.jsx)(T.a,{className:"mx-0 mt-3",children:Object(g.jsx)(z.a,{sm:"6",children:Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)(F.a,{for:"rows-per-page",children:"Show"}),Object(g.jsxs)(G.a,{className:"form-control mx-50",type:"select",id:"rows-per-page",value:p,onChange:function(t){var n=parseInt(t.currentTarget.value);e(w(a.allData,{page:u,perPage:n,status:v.value,q:r,created_at:H})),m(n)},style:{width:"10rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0"},children:[Object(g.jsx)("option",{value:"10",children:"10"}),Object(g.jsx)("option",{value:"25",children:"25"}),Object(g.jsx)("option",{value:"50",children:"50"})]}),Object(g.jsx)(F.a,{for:"rows-per-page",children:"Entries"})]})})}),Object(g.jsx)(L.a,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:O,sortIcon:Object(g.jsx)(P.a,{}),className:"react-dataTable",paginationComponent:function(){var t=Math.ceil(M.length/p);return Object(g.jsx)(_.a,{previousLabel:"",nextLabel:"",pageCount:t||1,activeClassName:"active",forcePage:0!==u?u-1:0,onPageChange:function(t){return function(t){e(w(a.allData,{page:t.selected+1,perPage:p,status:v.value,q:r,created_at:H})),d(t.selected+1)}(t)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e={status:v.value,q:r},t=a.allData.filter((function(e){if(Date.parse(e.created_at)>=J&&Date.parse(e.created_at)<=U)return e})),n=Object.keys(e).some((function(a){return e[a].length>0}));return!r&&J&&U?t.slice(0,p):a.data.length>0?a.data:0===a.data.length&&n?[]:a.allData.slice(0,p)}()})]})]})};t(492),a.default=function(){return Object(g.jsx)("div",{className:"app-user-list",children:Object(g.jsx)(H,{})})}},492:function(e,a,t){},495:function(e,a,t){},503:function(e,a,t){}}]);
//# sourceMappingURL=158.ce2d1f95.chunk.js.map