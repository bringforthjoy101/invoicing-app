(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[82],{2235:function(e,t,a){"use strict";a.r(t);var s=a(58),n=a(28),r=a(0),c=a(122),o=a(1),i=a(81),l=a(503),u=a.n(l),d=a(477),p=a(485),j=a.n(p),b=a(487),m=a(483),f=a(607),g=a.n(f),h=a(608),O=a.n(h)()(g.a),v=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)({url:"/admin/fund",method:"GET"},t);case 2:if(!((a=e.sent)&&a.data.data&&a.data.success)){e.next=8;break}return e.next=6,t({type:"GET_ALL_FUND_DATA",data:a.data.data.sort((function(e,t){return t.log_id-e.log_id}))});case 6:e.next=10;break;case 8:console.log(a),Object(m.l)("Oops!","Something went wrong.","error");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e,t,a){var s="approve"===t?"approved":"disapproved";return function(){var a=Object(b.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",O.fire({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, ".concat(t," it!"),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var a=Object(b.a)(j.a.mark((function a(r){var c,o;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.value){a.next=6;break}return c=JSON.stringify({log_id:e}),a.next=4,Object(m.a)({url:"/admin/fund/".concat(t),method:"POST",body:c},n);case 4:(o=a.sent)&&o.data.success?(n(v()),Object(m.l)("Good!","Fund was successfully ".concat(s),"success")):(Object(m.l)("Oops!","Somthing went wrong with your network.","error"),console.log(o));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},w=a(124),y=a(504),C=a.n(y),N=a(513),k=a.n(N),L=a(1120),_=a(1066),P=a(1114),D=a(1201),T=a(1153),W=a(1194),S=a(1121),E=a(1086),z=a(482),M=a(489),A=a(479),F=a(488),R=a(1417),B=a(1077),U=a(1078),I=a(480),H=a(481),J=a(495),G=a(1081),Y=a(617),V=(a(675),a(6)),q=["success","danger","warning","info","dark","primary","secondary"],K={Approved:{title:"Approved",color:"light-success"},Pending:{title:"Pending",color:"light-warning"},Disapproved:{title:"Disapproved",color:"light-danger"},Rejected:{title:"Rejected",color:"light-danger"},5:{title:"Applied",color:"light-info"}},Q=[{name:"User",selector:"user_details",sortable:!0,minWidth:"280px",cell:function(e){return Object(V.jsxs)("div",{className:"d-flex align-items-center",children:[e.avatar?Object(V.jsx)(d.a,{img:a(729)("./avatar-s-".concat(e.avatar)).default}):Object(V.jsx)(d.a,{color:"light-".concat(q[3]),content:e.user_details.user_name,initials:!0}),Object(V.jsxs)("div",{className:"user-info text-truncate ml-1",children:[Object(V.jsx)("span",{className:"d-block font-weight-bold text-truncate",children:e.user_details.user_name}),Object(V.jsx)("small",{children:e.user_details.email})]})]})}},{name:"Email",selector:"user_details",sortable:!0,minWidth:"240px",cell:function(e){return e.user_details.email}},{name:"Purpose",selector:"purpose",sortable:!0,minWidth:"150px"},{name:"Description",selector:"description",sortable:!0,minWidth:"100px"},{name:"Status",selector:"status",sortable:!0,minWidth:"100px",cell:function(e){return Object(V.jsx)(E.a,{color:K[e.status].color,pill:!0,children:K[e.status].title})}},{name:"Date",selector:"posted_date",sortable:!0,minWidth:"200px",cell:function(e){return u()(e.posted_date).format("lll")}},{name:"Posted By",selector:"posted_by",sortable:!0,minWidth:"170px",cell:function(e){return Object(V.jsxs)("div",{className:"d-flex align-items-center",children:[Object(V.jsx)(d.a,{color:"light-".concat(q[3]),content:e.posted_by,initials:!0}),Object(V.jsxs)("div",{className:"user-info text-truncate ml-1",children:[Object(V.jsx)("span",{className:"d-block font-weight-bold text-truncate",children:e.posted_by}),Object(V.jsx)("small",{children:"Admin"})]})]})}},{name:"Actions",allowOverflow:!0,selector:"status",cell:function(e){return Object(V.jsx)("div",{className:"d-flex",children:"Pending"===e.status?Object(V.jsxs)("div",{children:[Object(V.jsx)(L.a,{size:30,className:"text-success",onClick:function(){return w.a.dispatch(x(e.log_id,"approve"))}}),Object(V.jsx)(_.a,{size:30,className:"text-danger",onClick:function(){return w.a.dispatch(x(e.log_id,"disapprove"))}})]}):Object(V.jsx)(P.a,{size:30,className:"text-info",onClick:function(){return alert("Reviewed")}})})}}],X=Object(o.forwardRef)((function(e,t){var a=e.onClick,s=Object(c.a)(e,["onClick"]);return Object(V.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(V.jsx)("input",Object(r.a)({type:"checkbox",className:"custom-control-input",ref:t},s)),Object(V.jsx)("label",{className:"custom-control-label",onClick:a})]})})),Z=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.appiaFunds})),a=Object(o.useState)(!1),r=Object(n.a)(a,2),c=(r[0],r[1],Object(o.useState)(0)),l=Object(n.a)(c,2),u=l[0],d=l[1],p=Object(o.useState)(""),j=Object(n.a)(p,2),b=j[0],f=j[1],g=Object(o.useState)([]),h=Object(n.a)(g,2),O=h[0],x=h[1],w=Object(o.useState)(null),y=Object(n.a)(w,2),N=(y[0],y[1]);Object(o.useEffect)((function(){e(v())}),[e]),Object(o.useEffect)((function(){null!==Object(m.g)()&&N(JSON.parse(localStorage.getItem("userData")))}),[]);function L(e){var a=document.createElement("a"),s=function(e){var a,s=Object.keys(t.allData[0]);return console.log("keyss",s),a="",a+=s.join(","),a+="\n",e.forEach((function(e){var t=0;s.forEach((function(s){t>0&&(a+=","),a+=e[s],t++})),a+="\n"})),a}(e);if(null!==s){s.match(/^data:text\/csv/i)||(s="data:text/csv;charset=utf-8,".concat(s)),a.setAttribute("href",encodeURI(s)),a.setAttribute("download","export.csv"),a.click()}}return Object(V.jsx)(o.Fragment,{children:Object(V.jsxs)(z.a,{children:[Object(V.jsxs)(M.a,{className:"flex-md-row flex-column align-md-items-center align-items-start border-bottom",children:[Object(V.jsx)(A.a,{tag:"h4",children:"All Funds"}),Object(V.jsx)("div",{className:"d-flex mt-md-0 mt-1",children:Object(V.jsxs)(F.a,{children:[Object(V.jsxs)(R.a,{color:"secondary",caret:!0,outline:!0,children:[Object(V.jsx)(D.a,{size:15}),Object(V.jsx)("span",{className:"align-middle ml-50",children:"Export"})]}),Object(V.jsxs)(B.a,{right:!0,children:[Object(V.jsxs)(U.a,{className:"w-100",onClick:function(){return L(t.allData)},children:[Object(V.jsx)(T.a,{size:15}),Object(V.jsx)("span",{className:"align-middle ml-50",children:"CSV"})]}),Object(V.jsxs)(U.a,{className:"w-100",onClick:function(){return function(){var e=new Y.default({orientation:"landscape"});e.autoTable({styles:{halign:"center"},head:[["User","Purpose","Description","Status","Date","Posted by"]]}),t.allData.map((function(t){e.autoTable({styles:{halign:"left"},columnStyles:{0:{cellWidth:45},1:{cellWidth:55},2:{cellWidth:50},3:{cellWidth:40},4:{cellWidth:70},5:{cellWidth:40}},body:[[t.user_details.user_name,t.purpose,t.description,t.status,t.posted_date,t.posted_by]]})})),e.save("export.pdf")}()},children:[Object(V.jsx)(T.a,{size:15}),Object(V.jsx)("span",{className:"align-middle ml-50",children:"PDF"})]}),Object(V.jsxs)(U.a,{className:"w-100",onClick:function(){return function(){document.getElementById("printme");var e=document.body.innerHTML;document.body.innerHTML=e,window.print(),document.body.innerHTML=e}()},children:[Object(V.jsx)(W.a,{size:15}),Object(V.jsx)("span",{className:"align-middle ml-50",children:"Print"})]})]})]})})]}),Object(V.jsx)(I.a,{className:"justify-content-end mx-0",children:Object(V.jsxs)(H.a,{className:"d-flex align-items-center justify-content-end mt-1",md:"3",sm:"12",children:[Object(V.jsx)(J.a,{className:"mr-1",for:"search-input",children:"Search"}),Object(V.jsx)(G.a,{className:"dataTable-filter mb-50",type:"text",bsSize:"sm",id:"search-input",value:b,onChange:function(e){var a=e.target.value,s=[];f(a);a.length&&(s=t.allData.filter((function(e){var t=e.user_details.user_name.toLowerCase().startsWith(a.toLowerCase())||e.user_details.email.toLowerCase().startsWith(a.toLowerCase())||e.purpose.toLowerCase().startsWith(a.toLowerCase())||e.description.toLowerCase().startsWith(a.toLowerCase())||e.status.toLowerCase().startsWith(a.toLowerCase())||e.posted_date.toLowerCase().startsWith(a.toLowerCase()),s=e.user_details.user_name.toLowerCase().startsWith(a.toLowerCase())||e.user_details.email.toLowerCase().startsWith(a.toLowerCase())||e.purpose.toLowerCase().startsWith(a.toLowerCase())||e.description.toLowerCase().startsWith(a.toLowerCase())||e.status.toLowerCase().startsWith(a.toLowerCase())||e.posted_date.toLowerCase().startsWith(a.toLowerCase());return t||(!t&&s?s:null)})),x(s),f(a))}})]})}),Object(V.jsx)(k.a,{printableId:"printme",noHeader:!0,pagination:!0,selectableRows:!0,columns:Q,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(V.jsx)(S.a,{size:10}),paginationDefaultPage:u+1,paginationComponent:function(){var e;return Object(V.jsx)(C.a,(e={previousLabel:"",nextLabel:"",forcePage:u,onPageChange:function(e){return function(e){d(e.selected)}(e)},pageCount:b.length?O.length/10:t.allData.length/10||1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(s.a)(e,"breakClassName","page-item"),Object(s.a)(e,"breakLinkClassName","page-link"),Object(s.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:b.length?O:t.allData,selectableRowsComponent:X})]})})};a(492),t.default=function(){return Object(V.jsx)("div",{className:"app-user-list",children:Object(V.jsx)(Z,{})})}},475:function(e,t,a){"use strict";var s=a(14),n=a(1),r=a.n(n),c=a(2),o=a.n(c),i=a(486),l={children:o.a.node},u=function(e){return r.a.createElement(i.a,Object(s.a)({group:!0},e))};u.propTypes=l,t.a=u},479:function(e,t,a){"use strict";var s=a(14),n=a(15),r=a(1),c=a.n(r),o=a(2),i=a.n(o),l=a(27),u=a.n(l),d=a(80),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var t=e.className,a=e.cssModule,r=e.tag,o=Object(n.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-title"),a);return c.a.createElement(r,Object(s.a)({},o,{className:i}))};j.propTypes=p,j.defaultProps={tag:"div"},t.a=j},488:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var s=a(476),n=a(14),r=a(121),c=a(57),o=a(1),i=a.n(o),l=a(2),u=a.n(l),d=a(475),p=a(80);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var b=["defaultOpen"],m=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},a.toggle=a.toggle.bind(Object(r.a)(a)),a}Object(c.a)(t,e);var a=t.prototype;return a.toggle=function(){this.setState({isOpen:!this.state.isOpen})},a.render=function(){return i.a.createElement(d.a,Object(n.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(p.omit)(this.props,b)))},t}(o.Component);m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({defaultOpen:u.a.bool},d.a.propTypes)},492:function(e,t,a){},495:function(e,t,a){"use strict";var s=a(14),n=a(15),r=a(1),c=a.n(r),o=a(2),i=a.n(o),l=a(27),u=a.n(l),d=a(80),p=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:p,order:p,offset:p})]),b={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,xs:j,sm:j,md:j,lg:j,xl:j,widths:i.a.array},m={tag:"label",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},g=function(e){var t=e.className,a=e.cssModule,r=e.hidden,o=e.widths,i=e.tag,l=e.check,p=e.size,j=e.for,b=Object(n.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),m=[];o.forEach((function(t,s){var n=e[t];if(delete b[t],n||""===n){var r,c=!s;if(Object(d.isObject)(n)){var o,i=c?"-":"-"+t+"-";r=f(c,t,n.size),m.push(Object(d.mapToCssModules)(u()(((o={})[r]=n.size||""===n.size,o["order"+i+n.order]=n.order||0===n.order,o["offset"+i+n.offset]=n.offset||0===n.offset,o))),a)}else r=f(c,t,n),m.push(r)}}));var g=Object(d.mapToCssModules)(u()(t,!!r&&"sr-only",!!l&&"form-check-label",!!p&&"col-form-label-"+p,m,!!m.length&&"col-form-label"),a);return c.a.createElement(i,Object(s.a)({htmlFor:j},b,{className:g}))};g.propTypes=b,g.defaultProps=m,t.a=g},520:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/avatar-s-20.40d668f5.jpg"},584:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/avatar-s-16.1850b51c.jpg"},642:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/avatar-s-21.d383013d.jpg"},643:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/avatar-s-23.c1d416e5.jpg"},729:function(e,t,a){var s={"./avatar-s-1.jpg":32,"./avatar-s-10.jpg":85,"./avatar-s-11.jpg":84,"./avatar-s-12.jpg":234,"./avatar-s-13.jpg":129,"./avatar-s-14.jpg":238,"./avatar-s-15.jpg":235,"./avatar-s-16.jpg":584,"./avatar-s-17.jpg":730,"./avatar-s-18.jpg":244,"./avatar-s-19.jpg":731,"./avatar-s-2.jpg":42,"./avatar-s-20.jpg":520,"./avatar-s-21.jpg":642,"./avatar-s-22.jpg":245,"./avatar-s-23.jpg":643,"./avatar-s-24.jpg":732,"./avatar-s-25.jpg":239,"./avatar-s-26.jpg":243,"./avatar-s-3.jpg":23,"./avatar-s-4.jpg":60,"./avatar-s-5.jpg":41,"./avatar-s-6.jpg":83,"./avatar-s-7.jpg":59,"./avatar-s-8.jpg":33,"./avatar-s-9.jpg":19};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id=729},730:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/avatar-s-17.ac876056.jpg"},731:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/avatar-s-19.f39063a2.jpg"},732:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/avatar-s-24.a649af23.jpg"}}]);
//# sourceMappingURL=82.a6788b48.chunk.js.map