(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[205],{1170:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return j}));var s=a(511),c=a.n(s),n=a(512),r=(a(82),a(500)),i=function(){return function(){var e=Object(n.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)({url:"/admin/transfers",method:"GET"},t);case 2:if(!(a=e.sent)){e.next=12;break}if(!a.data.data||!a.data.success){e.next=9;break}return e.next=7,t({type:"GET_ALL_TRANSFERS",data:a.data.data});case 7:e.next=10;break;case 9:console.log(a.error);case 10:e.next=13;break;case 12:Object(r.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(s){var n,i,l,d,o,j,b,m,x,u;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.q,i=void 0===n?"":n,l=t.perPage,d=void 0===l?10:l,o=t.page,j=void 0===o?1:o,b=t.status,m=void 0===b?null:b,x=i.toLowerCase(),u=e.filter((function(e){return(e.receiver_name.toLowerCase().includes(x)||e.bank.toLowerCase().includes(x))&&e.status===(m||e.status)})),s({type:"GET_FILTERED_DATA",data:Object(r.i)(u,d,j),totalPages:u.length,params:t});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},d=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(s){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.find((function(e){return e.id===t})),s({type:"GET_TRANSFER",selectedTransfer:n});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},o=function(e){var t=e.trans_id;return function(){var e=Object(n.a)(c.a.mark((function e(a){var s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify({trans_id:t}),e.next=3,Object(r.a)({url:"/admin/transfer/approve",method:"POST",body:s},a);case 3:(n=e.sent)&&n.data.success?Object(r.l)("Good!","".concat(n.data.message),"success"):(console.log(n),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e){var t=e.trans_id,a=e.remark;return function(){var e=Object(n.a)(c.a.mark((function e(s){var n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({trans_id:t,remark:a}),e.next=3,Object(r.a)({url:"/admin/transfer/decline",method:"POST",body:n},s);case 3:i=e.sent,console.log({response:i}),i&&i.data.success?Object(r.l)("Good!","".concat(i.data.message),"success"):(console.log(i),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},2219:function(e,t,a){"use strict";a.r(t);var s=a(28),c=a(1),n=a(1205),r=a(474),i=a(506),l=a.n(i),d=a(81),o=a(500),j=a(490),b=a(491),m=a(516),x=a(493),u=a(489),h=a(482),O=a(511),f=a.n(O),p=a(512),g=a(468),v=a(549),N=a(551),w=a(548),y=a(678),_=a(560),k=a(557),T=a(803),S=a(813),z=a(1170),A=a(6),R=S.c().shape({trans_id:S.d().required("required")}),E=S.c().shape({trans_id:S.d().required("required"),remark:S.d().required("required")}),C=function(e){var t=e.trans_id,a=Object(d.b)(),n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],l=r[1];return Object(A.jsxs)("div",{children:[Object(A.jsx)(g.a.Ripple,{className:"text-center mb-1",color:"primary",outline:!0,block:!0,onClick:function(){return l(!i)},children:"Approve Transfer"}),Object(A.jsxs)(v.a,{isOpen:i,toggle:function(){return l(!i)},className:"modal-dialog-centered",children:[Object(A.jsx)(N.a,{toggle:function(){return l(!i)},children:"Approve Transfer"}),Object(A.jsx)(T.d,{initialValues:{trans_id:t},validationSchema:R,onSubmit:function(){var e=Object(p.a)(f.a.mark((function e(t,s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.setSubmitting,e.next=3,a(Object(z.a)(t));case 3:c(!1),l(!i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.touched,s=e.isSubmitting;return Object(A.jsxs)(T.c,{children:[Object(A.jsx)(w.a,{children:Object(A.jsxs)(y.a,{children:[Object(A.jsx)("label",{htmlFor:"trans_id",children:"Transaction Id"}),Object(A.jsx)(T.b,{type:"text",name:"trans_id",placeholder:"trans_id",className:"form-control ".concat(t.trans_id&&a.trans_id&&"is-invalid")}),Object(A.jsx)(T.a,{name:"trans_id",component:"div",className:"field-error text-danger"})]})}),Object(A.jsx)(_.a,{children:Object(A.jsxs)(g.a.Ripple,{color:"primary",type:"submit",disabled:s,children:[s&&Object(A.jsx)(k.a,{color:"white",size:"sm"}),Object(A.jsx)("span",{className:"ml-50",children:"Approve"})]})})]})}})]})]})},I=function(e){var t=e.trans_id,a=Object(d.b)(),n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],l=r[1];return Object(A.jsxs)("div",{children:[Object(A.jsx)(g.a.Ripple,{className:"text-center mb-1",color:"danger",outline:!0,block:!0,onClick:function(){return l(!i)},children:"Decline Transfer"}),Object(A.jsxs)(v.a,{isOpen:i,toggle:function(){return l(!i)},className:"modal-dialog-centered",children:[Object(A.jsx)(N.a,{toggle:function(){return l(!i)},children:"Disapprove Transfer"}),Object(A.jsx)(T.d,{initialValues:{trans_id:t,remark:""},validationSchema:E,onSubmit:function(){var e=Object(p.a)(f.a.mark((function e(t,s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.setSubmitting,e.next=3,a(Object(z.b)(t));case 3:c(!1),l(!i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.touched,s=e.isSubmitting;return Object(A.jsxs)(T.c,{children:[Object(A.jsxs)(w.a,{children:[Object(A.jsxs)(y.a,{children:[Object(A.jsx)("label",{htmlFor:"trans_id",children:"Transaction Id"}),Object(A.jsx)(T.b,{type:"text",name:"trans_id",placeholder:"trans_id",className:"form-control ".concat(t.trans_id&&a.trans_id&&"is-invalid")}),Object(A.jsx)(T.a,{name:"trans_id",component:"div",className:"field-error text-danger"})]}),Object(A.jsxs)(y.a,{children:[Object(A.jsx)("label",{htmlFor:"remark",children:"Remark"}),Object(A.jsx)(T.b,{type:"text",name:"remark",placeholder:"remark",className:"form-control ".concat(t.remark&&a.trans_id&&"is-invalid")}),Object(A.jsx)(T.a,{name:"remark",component:"div",className:"field-error text-danger"})]})]}),Object(A.jsx)(_.a,{children:Object(A.jsxs)(g.a.Ripple,{color:"primary",type:"submit",disabled:s,children:[s&&Object(A.jsx)(k.a,{color:"white",size:"sm"}),Object(A.jsx)("span",{className:"ml-50",children:"Disapprove"})]})})]})}})]})]})},L=function(e){var t=e.selectedTransfer;return Object(A.jsxs)(x.a,{className:"plan-card border-primary",children:[Object(A.jsx)(u.a,{className:"d-flex justify-content-between align-items-center pt-75 pb-1",children:Object(A.jsx)("h5",{className:"mb-0",children:"Actions"})}),Object(A.jsxs)(h.a,{children:[Object(A.jsx)(C,{trans_id:t.trans_id}),Object(A.jsx)(I,{trans_id:t.trans_id})]})]})},q=(a(487),a(488)),D=a(934),F=a(859),G=a(1121),U=a(1140),J=a(826),P=a(660),B=a(1105),V=a(1130),H=function(e){var t=e.selectedTransfer;return Object(A.jsx)(x.a,{children:Object(A.jsx)(h.a,{children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(b.a,{xl:"6",lg:"12",className:"mt-2 mt-xl-0",children:Object(A.jsxs)("div",{className:"user-info-wrapper",children:[Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(D.a,{})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"User Id"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:null===t||void 0===t?void 0:t.user_id})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(F.a,{})}),"Appia"===t.bank?Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Phone Number"})}):Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Account Number"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:null===t||void 0===t?void 0:t.account_number})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(G.a,{})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title text-capitalize font-weight-bold mb-0 ml-1",children:"Sender"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:t.sender_name})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(D.a,{})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Receiver Id"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:null!==(null===t||void 0===t?void 0:t.receiver_id)?t.receiver_id:"No receiver Id"})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(G.a,{})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title text-capitalize font-weight-bold mb-0 ml-1",children:"Receiver"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:t.receiver_name})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(D.a,{})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title text-capitalize font-weight-bold mb-0 ml-1",children:"Transaction Id"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:t.trans_id})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(U.a,{})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title text-capitalize font-weight-bold mb-0 ml-1",children:"Transaction Type"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:t.trans_type})]})]})}),Object(A.jsx)(b.a,{xl:"6",lg:"12",className:"mt-2 mt-xl-0",children:Object(A.jsxs)("div",{className:"user-info-wrapper",children:[Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(F.a,{})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title text-capitalize font-weight-bold mb-0 ml-1",children:"Transaction Amount"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:t.trans_amount.toLocaleString("en-US",{style:"currency",currency:"NGN"})})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(J.a,{className:"text-secoundary"})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Bank"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:null===t||void 0===t?void 0:t.bank})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(J.a,{className:"text-secoundary"})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Bank Code"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:null!==(null===t||void 0===t?void 0:t.bank_code)?t.bank_code:"No Code"})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center",children:["Successful"===t.status?Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(P.a,{className:"text-secoundary"})}):Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(B.a,{className:"text-secoundary"})}),Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Transaction Status"})]}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:t.status})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(J.a,{className:"text-secoundary"})}),Object(A.jsx)("div",{className:"d-flex align-items-center",children:Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Remarks"})}),Object(A.jsx)(q.a,{className:"text-capitalize mb-0",children:null===t||void 0===t?void 0:t.remarks})]}),Object(A.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-1",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center",children:[Object(A.jsx)("div",{className:"color-box bg-light-secoundary",children:Object(A.jsx)(V.a,{className:"text-secoundary"})}),Object(A.jsx)(q.a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ml-1",children:"Transaction Date"})]}),Object(A.jsx)(q.a,{children:l()(null===t||void 0===t?void 0:t.trans_date).format("lll")})]})]})})]})})})};a(518),t.default=function(e){var t=Object(d.c)((function(e){return e.appiaTransfers})),a=Object(n.i)().id,i=Object(c.useState)(null),l=Object(s.a)(i,2),x=l[0],u=l[1];return Object(c.useEffect)((function(){null!==Object(o.g)()&&u(JSON.parse(localStorage.getItem("userData")))}),[]),null!==t.selectedTransfer&&void 0!==t.selectedTransfer?Object(A.jsxs)("div",{className:"app-user-view",children:[Object(A.jsx)(j.a,{children:Object(A.jsx)(b.a,{xl:"12",lg:"12",md:"12",children:Object(A.jsx)(H,{selectedTransfer:t.selectedTransfer})})}),"Financial Admin"===(null===x||void 0===x?void 0:x.role_name)||"Super Admin"===(null===x||void 0===x?void 0:x.role_name)?Object(A.jsx)(j.a,{children:Object(A.jsx)(b.a,{xl:"3",lg:"4",md:"5",children:"pending"===t.selectedTransfer.status?Object(A.jsx)(L,{selectedTransfer:t.selectedTransfer}):""})}):""]}):Object(A.jsxs)(m.a,{color:"danger",children:[Object(A.jsx)("h4",{className:"alert-heading",children:"Users not found"}),Object(A.jsxs)("div",{className:"alert-body",children:["Users with id: ",a," doesn't exist. Check list of all Users: ",Object(A.jsx)(r.b,{to:"/app/user/list",children:"Users List"})]})]})}},518:function(e,t,a){}}]);
//# sourceMappingURL=205.34732640.chunk.js.map