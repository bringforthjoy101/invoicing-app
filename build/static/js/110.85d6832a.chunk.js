(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[110],{2239:function(e,a,t){"use strict";t.r(a);var s=t(28),n=t(1),c=t(473),r=t(477),l=t(648),o=t(124),i=t(998),u=(t(1143),t(1056),t(1063),t(990),t(1125),t(6)),d=function(e){var a=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return e.avatar?Object(u.jsx)(r.a,{className:"mr-1",img:e.avatar,width:"32",height:"32"}):Object(u.jsx)(r.a,{color:a||"primary",className:"mr-1",content:"".concat(e.names)||"John Doe",initials:!0})},m={blacklisted:"light-danger",active:"light-success",inactive:"light-warning"},f=(o.a.getState().users,[{name:"User",minWidth:"297px",selector:"names",sortable:!0,cell:function(e){return Object(u.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[d(e),Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)(c.b,{to:"/appia/funds/view/".concat(e.user_id),className:"user-name text-truncate mb-0",onClick:function(){return o.a.dispatch(Object(l.e)(o.a.getState().appiaFunds.allData,e.user_id))},children:Object(u.jsx)("span",{className:"font-weight-bold",children:e.names})}),Object(u.jsx)("small",{className:"text-truncate text-muted mb-0",children:e.user_id})]})]})}},{name:"Email",minWidth:"300px",selector:"email",sortable:!0,cell:function(e){return e.email}},{name:"Phone",minWidth:"300px",selector:"phone",sortable:!0,cell:function(e){return Object(u.jsx)("span",{children:null===e.phone?"No Number":e.phone})}},{name:"Balance",minWidth:"150px",selector:"balance",sortable:!0,cell:function(e){var a;return Object(u.jsx)("span",{className:"text-capitalize",children:null===e||void 0===e||null===(a=e.balance)||void 0===a?void 0:a.toLocaleString("en-US",{style:"currency",currency:"NGN"})})}},{name:"Refferal Code",minWidth:"80px",selector:"referral_code",sortable:!0,cell:function(e){return e.referral_code}},{name:"Status",minWidth:"138px",selector:"status",sortable:!0,cell:function(e){return Object(u.jsx)(i.a,{className:"text-capitalize",color:m[e.status],pill:!0,children:e.status})}}]),b=t(81),p=t(517),j=t(503),g=t.n(j),h=t(1121),v=t(1068),O=t(1113),x=t(1035),N=t(510),y=t.n(N),w=t(484),T=t(481),C=t(483),k=t(479),M=t(478),S=t(480),P=t(482),E=t(499),_=t(494),D=t(989),L=t(489),R=t(1339),W=t(1004),z=t(1005),G=(t(519),t(501),t(567)),A=(t(592),t(530)),F=t.n(A),q=function(){var e=Object(b.b)(),a=Object(b.c)((function(e){return e.appiaFunds})),t=Object(n.useState)(""),c=Object(s.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(1),d=Object(s.a)(i,2),m=d[0],j=d[1],N=Object(n.useState)(10),A=Object(s.a)(N,2),q=A[0],U=A[1],I=Object(n.useState)({value:"",label:"Select Status",number:0}),J=Object(s.a)(I,2),B=J[0],H=J[1];Object(n.useEffect)((function(){e(Object(l.c)()),e(Object(l.d)(a.allData,{page:m,perPage:q,status:B.value,q:r}))}),[e]);var V=a.allData.filter((function(e){var a,t,s;return(null===(a=e.names)||void 0===a?void 0:a.toLowerCase())||(null===(t=e.email)||void 0===t?void 0:t.toLowerCase())||e.phone||(null===e||void 0===e||null===(s=e.referral_code)||void 0===s?void 0:s.dataToRender())}));function K(e){var t=document.createElement("a"),s=function(e){var t,s=Object.keys(a.allData[0]);return console.log("keyss",s),t="",t+=s.join(","),t+="\n",e.forEach((function(e){var a=0;s.forEach((function(s){a>0&&(t+=","),t+=e[s],a++})),t+="\n",console.log("esults",t)})),t}(e);if(null!==s){s.match(/^data:text\/csv/i)||(s="data:text/csv;charset=utf-8,".concat(s)),t.setAttribute("href",encodeURI(s)),t.setAttribute("download","export.csv"),t.click()}}return Object(u.jsxs)(n.Fragment,{children:[Object(u.jsxs)(T.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsx)(k.a,{tag:"h4",children:"Search Filter"})}),Object(u.jsx)(M.a,{children:Object(u.jsxs)(S.a,{form:!0,className:"mt-1 mb-50",children:[Object(u.jsx)(P.a,{lg:"4",md:"6",children:Object(u.jsxs)(F.a,{children:[Object(u.jsx)(E.a,{for:"select",children:"Select Status:"}),Object(u.jsx)(p.a,{theme:w.j,isClearable:!1,className:"react-select",classNamePrefix:"select",id:"select",options:[{value:"",label:"Select Status",number:0},{value:"blacklisted",label:"Blacklisted",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3}],value:B,onChange:function(t){H(t),e(Object(l.d)(a.allData,{page:m,perPage:q,status:t.value,q:r}))}})]})}),Object(u.jsx)(P.a,{lg:"4",md:"6",children:Object(u.jsxs)(F.a,{children:[Object(u.jsx)(E.a,{for:"select",children:"Select Table:"}),Object(u.jsx)(_.a,{id:"search-invoice",className:"ml-50 w-100",type:"text",value:r,placeholder:"Name and Email Search",onChange:function(t){return s=t.target.value,o(s),void e(Object(l.d)(a.allData,{page:m,perPage:q,status:B.value,q:s}));var s}})]})})]})})]}),Object(u.jsxs)(T.a,{children:[Object(u.jsxs)(S.a,{className:"mx-0 mt-3",children:[Object(u.jsx)(P.a,{xl:"6",sm:"12",className:"d-flex align-items-center pl-3",children:Object(u.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(u.jsx)(E.a,{for:"rows-per-page",children:"Show"}),Object(u.jsxs)(D.a,{className:"form-control mx-50",type:"select",id:"rows-per-page",value:q,onChange:function(t){var s=parseInt(t.currentTarget.value);e(Object(l.d)(a.allData,{page:m,perPage:s,status:B.value,q:r})),U(s)},style:{width:"10rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0"},children:[Object(u.jsx)("option",{value:"10",children:"10"}),Object(u.jsx)("option",{value:"25",children:"25"}),Object(u.jsx)("option",{value:"50",children:"50"})]}),Object(u.jsx)(E.a,{for:"rows-per-page",children:"Entries"})]})}),Object(u.jsx)(P.a,{xl:"6",sm:"12",className:"d-flex align-items-sm-center justify-content-lg-end justify-content-center pr-lg-3 p-0 mt-lg-0 mt-1",children:Object(u.jsxs)(L.a,{children:[Object(u.jsxs)(R.a,{className:"mr-lg-0 mr-5",color:"secondary",caret:!0,outline:!0,children:[Object(u.jsx)(h.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-lg-50",children:"Download Table"})]}),Object(u.jsxs)(W.a,{right:!0,children:[Object(u.jsxs)(z.a,{className:"w-100",onClick:function(){return K(a.allData)},children:[Object(u.jsx)(v.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-50",children:"CSV"})]}),Object(u.jsxs)(z.a,{className:"w-100",onClick:function(){return function(){var e=new G.default({orientation:"landscape"});e.autoTable({styles:{halign:"center"},head:[["User","Email","Balance","Naira Wallet","Status"]]}),a.allData.map((function(a){e.autoTable({styles:{halign:"left"},columnStyles:{0:{cellWidth:40},1:{cellWidth:70},2:{cellWidth:70},3:{cellWidth:60},4:{cellWidth:30}},body:[[a.names,a.email,a.balance,a.naira_wallet,a.status]]})})),e.save("export.pdf")}()},children:[Object(u.jsx)(v.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-50",children:"PDF"})]}),Object(u.jsxs)(z.a,{className:"w-100",onClick:function(){return printOrder(V)},children:[Object(u.jsx)(O.a,{size:15}),Object(u.jsx)("span",{className:"align-middle ml-50",children:"Print"})]})]})]})})]}),Object(u.jsx)(y.a,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:f,sortIcon:Object(u.jsx)(x.a,{}),className:"react-dataTable",paginationComponent:function(){var t=Math.ceil(V.length/q);return Object(u.jsx)(g.a,{previousLabel:"",nextLabel:"",pageCount:t||1,activeClassName:"active",forcePage:0!==m?m-1:0,onPageChange:function(t){return function(t){e(Object(l.d)(a.allData,{page:t.selected+1,perPage:q,status:B.value,q:r})),j(t.selected+1)}(t)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pr-1"})},data:function(){var e={status:B.value,q:r},t=Object.keys(e).some((function(a){return e[a].length>0}));return a.data.length>0?a.data:0===a.data.length&&t?[]:a.allData.slice(0,q)}()})]})]})};t(492),a.default=function(){return Object(u.jsx)("div",{className:"app-user-list",children:Object(u.jsx)(q,{})})}},478:function(e,a,t){"use strict";var s=t(14),n=t(15),c=t(1),r=t.n(c),l=t(2),o=t.n(l),i=t(27),u=t.n(i),d=t(80),m={tag:d.tagPropType,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},f=function(e){var a=e.className,t=e.cssModule,c=e.innerRef,l=e.tag,o=Object(n.a)(e,["className","cssModule","innerRef","tag"]),i=Object(d.mapToCssModules)(u()(a,"card-body"),t);return r.a.createElement(l,Object(s.a)({},o,{className:i,ref:c}))};f.propTypes=m,f.defaultProps={tag:"div"},a.a=f},479:function(e,a,t){"use strict";var s=t(14),n=t(15),c=t(1),r=t.n(c),l=t(2),o=t.n(l),i=t(27),u=t.n(i),d=t(80),m={tag:d.tagPropType,className:o.a.string,cssModule:o.a.object},f=function(e){var a=e.className,t=e.cssModule,c=e.tag,l=Object(n.a)(e,["className","cssModule","tag"]),o=Object(d.mapToCssModules)(u()(a,"card-title"),t);return r.a.createElement(c,Object(s.a)({},l,{className:o}))};f.propTypes=m,f.defaultProps={tag:"div"},a.a=f},480:function(e,a,t){"use strict";var s=t(14),n=t(15),c=t(1),r=t.n(c),l=t(2),o=t.n(l),i=t(27),u=t.n(i),d=t(80),m=o.a.oneOfType([o.a.number,o.a.string]),f={tag:d.tagPropType,noGutters:o.a.bool,className:o.a.string,cssModule:o.a.object,form:o.a.bool,xs:m,sm:m,md:m,lg:m,xl:m},b={tag:"div",widths:["xs","sm","md","lg","xl"]},p=function(e){var a=e.className,t=e.cssModule,c=e.noGutters,l=e.tag,o=e.form,i=e.widths,m=Object(n.a)(e,["className","cssModule","noGutters","tag","form","widths"]),f=[];i.forEach((function(a,t){var s=e[a];if(delete m[a],s){var n=!t;f.push(n?"row-cols-"+s:"row-cols-"+a+"-"+s)}}));var b=Object(d.mapToCssModules)(u()(a,c?"no-gutters":null,o?"form-row":"row",f),t);return r.a.createElement(l,Object(s.a)({},m,{className:b}))};p.propTypes=f,p.defaultProps=b,a.a=p},481:function(e,a,t){"use strict";var s=t(14),n=t(15),c=t(1),r=t.n(c),l=t(2),o=t.n(l),i=t(27),u=t.n(i),d=t(80),m={tag:d.tagPropType,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},f=function(e){var a=e.className,t=e.cssModule,c=e.color,l=e.body,o=e.inverse,i=e.outline,m=e.tag,f=e.innerRef,b=Object(n.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),p=Object(d.mapToCssModules)(u()(a,"card",!!o&&"text-white",!!l&&"card-body",!!c&&(i?"border":"bg")+"-"+c),t);return r.a.createElement(m,Object(s.a)({},b,{className:p,ref:f}))};f.propTypes=m,f.defaultProps={tag:"div"},a.a=f},482:function(e,a,t){"use strict";var s=t(14),n=t(15),c=t(1),r=t.n(c),l=t(2),o=t.n(l),i=t(27),u=t.n(i),d=t(80),m=o.a.oneOfType([o.a.number,o.a.string]),f=o.a.oneOfType([o.a.bool,o.a.number,o.a.string,o.a.shape({size:o.a.oneOfType([o.a.bool,o.a.number,o.a.string]),order:m,offset:m})]),b={tag:d.tagPropType,xs:f,sm:f,md:f,lg:f,xl:f,className:o.a.string,cssModule:o.a.object,widths:o.a.array},p={tag:"div",widths:["xs","sm","md","lg","xl"]},j=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},g=function(e){var a=e.className,t=e.cssModule,c=e.widths,l=e.tag,o=Object(n.a)(e,["className","cssModule","widths","tag"]),i=[];c.forEach((function(a,s){var n=e[a];if(delete o[a],n||""===n){var c=!s;if(Object(d.isObject)(n)){var r,l=c?"-":"-"+a+"-",m=j(c,a,n.size);i.push(Object(d.mapToCssModules)(u()(((r={})[m]=n.size||""===n.size,r["order"+l+n.order]=n.order||0===n.order,r["offset"+l+n.offset]=n.offset||0===n.offset,r)),t))}else{var f=j(c,a,n);i.push(f)}}})),i.length||i.push("col");var m=Object(d.mapToCssModules)(u()(a,i),t);return r.a.createElement(l,Object(s.a)({},o,{className:m}))};g.propTypes=b,g.defaultProps=p,a.a=g},483:function(e,a,t){"use strict";var s=t(14),n=t(15),c=t(1),r=t.n(c),l=t(2),o=t.n(l),i=t(27),u=t.n(i),d=t(80),m={tag:d.tagPropType,className:o.a.string,cssModule:o.a.object},f=function(e){var a=e.className,t=e.cssModule,c=e.tag,l=Object(n.a)(e,["className","cssModule","tag"]),o=Object(d.mapToCssModules)(u()(a,"card-header"),t);return r.a.createElement(c,Object(s.a)({},l,{className:o}))};f.propTypes=m,f.defaultProps={tag:"div"},a.a=f},492:function(e,a,t){},501:function(e,a,t){},530:function(e,a,t){"use strict";var s=t(528);a.__esModule=!0,a.default=void 0;var n=s(t(554)),c=s(t(561)),r=s(t(1)),l=s(t(2)),o=s(t(27)),i=t(550),u={children:l.default.node,row:l.default.bool,check:l.default.bool,inline:l.default.bool,disabled:l.default.bool,tag:i.tagPropType,className:l.default.string,cssModule:l.default.object},d=function(e){var a=e.className,t=e.cssModule,s=e.row,l=e.disabled,u=e.check,d=e.inline,m=e.tag,f=(0,c.default)(e,["className","cssModule","row","disabled","check","inline","tag"]),b=(0,i.mapToCssModules)((0,o.default)(a,!!s&&"row",u?"form-check":"form-group",!(!u||!d)&&"form-check-inline",!(!u||!l)&&"disabled"),t);return"fieldset"===m&&(f.disabled=l),r.default.createElement(m,(0,n.default)({},f,{className:b}))};d.propTypes=u,d.defaultProps={tag:"div"};var m=d;a.default=m},648:function(e,a,t){"use strict";t.d(a,"c",(function(){return l})),t.d(a,"d",(function(){return o})),t.d(a,"e",(function(){return i})),t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return d}));var s=t(485),n=t.n(s),c=t(486),r=t(484),l=function(){return function(){var e=Object(c.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)({url:"/admin/users",method:"GET"},a);case 2:if(!((t=e.sent)&&t.data.data&&t.data.success)){e.next=8;break}return e.next=6,a({type:"GET_ALL_DATA",data:t.data.data});case 6:e.next=10;break;case 8:console.log(t),Object(r.l)("Oops!","Something went wrong.","error");case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},o=function(e,a){return function(){var t=Object(c.a)(n.a.mark((function t(s){var c,l,o,i,u,d,m,f,b,p;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=a.q,l=void 0===c?"":c,o=a.perPage,i=void 0===o?10:o,u=a.page,d=void 0===u?1:u,m=a.status,f=void 0===m?null:m,b=l.toLowerCase(),p=e.filter((function(e){return(e.email.toLowerCase().includes(b)||e.names.toLowerCase().includes(b)||e.referral_code.toLowerCase().includes(b))&&e.status===(f||e.status)})),s({type:"GET_FILTERED_USER_DATA",data:Object(r.i)(p,i,d),totalPages:p.length,params:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},i=function(e,a){return function(){var t=Object(c.a)(n.a.mark((function t(s){var c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=e.find((function(e){return e.user_id===a})),s({type:"GET_USER",selectedUser:c});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e){var a=e.user_id,t=e.reason,s=e.amount;return function(){var e=Object(c.a)(n.a.mark((function e(c){var l,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=JSON.stringify({user_id:a,reason:t,amount:s}),e.next=3,Object(r.a)({url:"/admin/users/add",method:"POST",body:l},c);case 3:(o=e.sent)&&o.data.success?Object(r.l)("Good!","Funds of ".concat(s," was successfully added and is pending aproval!."),"success"):(console.log(o),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},d=function(e){var a=e.user_id,t=e.reason,s=e.amount;return function(){var e=Object(c.a)(n.a.mark((function e(c){var l,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=JSON.stringify({user_id:a,reason:t,amount:s}),e.next=3,Object(r.a)({url:"/admin/users/deduct",method:"POST",body:l},c);case 3:(o=e.sent)&&o.data.success?Object(r.l)("Good!","Funds of ".concat(s," was successfully deducted and is pending aproval!."),"success"):(console.log(o),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=110.85d6832a.chunk.js.map