(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[203],{2222:function(e,t,a){"use strict";a.r(t);var n=a(1),r=(a(477),a(481)),c=a(479),s=a(478),i=a(480),o=a(485),l=a.n(o),d=a(486),j=a(28),u=a(469),b=a(538),p=a(548),m=a(535),x=a(992),h=a(564),O=a(557),f=a(1063),v=a(559),g=a(570),N=a(81),y=a(484),w=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)({url:"/admin/settings",method:"GET"},t);case 2:if(!(a=e.sent)){e.next=12;break}if(!a.data.data||!a.data.success){e.next=9;break}return e.next=7,t({type:"GET_ALL_SETTINGS",data:a.data.data});case 7:e.next=10;break;case 9:console.log(a.error);case 10:e.next=13;break;case 12:Object(y.l)("Oops!","Somthing went wrong with your network.","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(e),t.next=3,Object(y.a)({url:"/admin/settings/update",method:"POST",body:n},a);case 3:r=t.sent,console.log({response:r}),r&&r.data.success?(Object(y.l)("Good!","".concat(r.data.message,"."),"success"),a(w())):(console.log(r),Object(y.l)("Oops!","Somthing went wrong with your network.","error"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=a(6),q=g.c().shape({id:g.b().required("Id is required"),name:g.d().required("Name is required"),value:g.d().required("Value isrequired"),description:g.d().required("Description isrequired")}),D=function(e){var t=e.data,a=Object(N.b)(),r=Object(n.useState)(!1),c=Object(j.a)(r,2),s=c[0],i=c[1];return Object(k.jsxs)("div",{children:[Object(k.jsxs)(u.a.Ripple,{className:"text-center mb-1",color:"primary",outline:!0,onClick:function(){return i(!s)},children:[Object(k.jsx)(f.a,{})," Edit"]}),Object(k.jsxs)(b.a,{isOpen:s,toggle:function(){return i(!s)},className:"modal-dialog-left",children:[Object(k.jsx)(p.a,{toggle:function(){return i(!s)},children:"Edit Setting"}),Object(k.jsx)(v.d,{initialValues:{id:t.id,name:t.name,value:t.value,description:t.description},validationSchema:q,onSubmit:function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,a(S({payload:[t]}));case 3:r(!1),i(!s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.touched,n=e.isSubmitting;return Object(k.jsxs)(v.c,{children:[Object(k.jsxs)(m.a,{children:[Object(k.jsxs)(x.a,{children:[Object(k.jsx)("label",{htmlFor:"id",children:"Id"}),Object(k.jsx)(v.b,{type:"id",name:"id",placeholder:"Id",className:"form-control ".concat(t.id&&a.id&&"is-invalid")}),Object(k.jsx)(v.a,{name:"id",component:"div",className:"field-error text-danger"})]}),Object(k.jsxs)(x.a,{children:[Object(k.jsx)("label",{htmlFor:"name",children:"Name"}),Object(k.jsx)(v.b,{type:"text",name:"name",placeholder:"Name",className:"form-control ".concat(t.name&&a.name&&"is-invalid")}),Object(k.jsx)(v.a,{name:"name",component:"div",className:"field-error text-danger"})]}),Object(k.jsxs)(x.a,{children:[Object(k.jsx)("label",{htmlFor:"value",children:"Value"}),Object(k.jsx)(v.b,{type:"text",name:"value",placeholder:"value",className:"form-control ".concat(t.value&&a.value&&"is-invalid")}),Object(k.jsx)(v.a,{name:"value",component:"div",className:"field-error text-danger"})]}),Object(k.jsxs)(x.a,{children:[Object(k.jsx)("label",{htmlFor:"description",children:"Description"}),Object(k.jsx)(v.b,{type:"text",name:"description",placeholder:"Description",className:"form-control ".concat(t.description&&a.description&&"is-invalid")}),Object(k.jsx)(v.a,{name:"description",component:"div",className:"field-error text-danger"})]})]}),Object(k.jsx)(h.a,{children:Object(k.jsxs)(u.a.Ripple,{color:"primary",type:"submit",disabled:n,children:[n&&Object(k.jsx)(O.a,{color:"white",size:"sm"}),Object(k.jsx)("span",{className:"ml-50",children:"Update"})]})})]})}})]})]})},E=function(e){var t=e.allData;return Object(k.jsxs)(r.a,{className:"p-5",children:[Object(k.jsx)(c.a,{children:Object(k.jsx)("h1",{children:"Settings"})}),Object(k.jsx)("hr",{}),Object(k.jsx)(s.a,{children:Object(k.jsx)(i.a,{children:t.map((function(e){return Object(k.jsxs)("div",{className:" py-2 pr-5",children:[Object(k.jsxs)("h4",{children:["Name: ",e.name]}),Object(k.jsxs)("h6",{children:["Value: ",e.value," "]}),Object(k.jsxs)("p",{children:["Description: ",""!==e.description?e.description:"No Description"]}),Object(k.jsx)(D,{data:e}),Object(k.jsx)("hr",{})]},e.id)}))})})]})};a(492),t.default=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.appiaSettings}));return Object(n.useEffect)((function(){e(w())}),[e]),Object(k.jsx)("div",{className:"app-user-list",children:Object(k.jsx)(E,{allData:t.allData})})}},492:function(e,t,a){}}]);
//# sourceMappingURL=203.e038d3b5.chunk.js.map