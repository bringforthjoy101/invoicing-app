(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[211],{2212:function(e,t,s){"use strict";s.r(t);var a=s(521),n=s.n(a),c=s(522),r=s(28),i=s(1),l=s(1205),o=s(482),d=s(896),u=s(81),j=s(500),m=s(501),b=s(517),x=s(502),h=s(499),O=s(492),f=s(468),p=s(562),v=s(563),g=s(561),N=s(660),w=s(567),y=s(564),_=s(806),k=s(814),S=s(6),A=k.c().shape({amount:k.b().lessThan(1e5,"You cant add funds more than 100000").required("Amount is required").positive().integer(),reason:k.d().min(3,"Reason too Short!").max(50,"Reason too Long!").required("Reason is required"),user_id:k.d().required("required")}),U=(k.c().shape({user_id:k.d().required("required"),reason:k.d().required("required")}),function(e){var t=e.userId,s=(e.userData,Object(u.b)()),a=Object(i.useState)(!1),l=Object(r.a)(a,2),o=l[0],j=l[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)(f.a.Ripple,{className:"text-center mb-1",color:"primary",outline:!0,block:!0,onClick:function(){return j(!o)},children:"Add Funds"}),Object(S.jsxs)(p.a,{isOpen:o,toggle:function(){return j(!o)},className:"modal-dialog-centered",children:[Object(S.jsx)(v.a,{toggle:function(){return j(!o)},children:"Add Funds"}),Object(S.jsx)(_.d,{initialValues:{amount:"",reason:"",user_id:t},validationSchema:A,onSubmit:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.setSubmitting,e.next=3,s(Object(d.a)(t));case 3:c(!1),j(!o);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,s=e.touched,a=e.isSubmitting;return Object(S.jsxs)(_.c,{children:[Object(S.jsxs)(g.a,{children:[Object(S.jsxs)(N.a,{children:[Object(S.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(S.jsx)(_.b,{type:"number",name:"amount",placeholder:"Amount",className:"form-control ".concat(t.amount&&s.amount&&"is-invalid")}),Object(S.jsx)(_.a,{name:"amount",component:"div",className:"field-error text-danger"})]}),Object(S.jsxs)(N.a,{children:[Object(S.jsx)("label",{htmlFor:"reason",children:"Reason"}),Object(S.jsx)(_.b,{type:"text",name:"reason",placeholder:"Reason",className:"form-control ".concat(t.reason&&s.reason&&"is-invalid")}),Object(S.jsx)(_.a,{name:"reason",component:"div",className:"field-error text-danger"})]})]}),Object(S.jsx)(w.a,{children:Object(S.jsxs)(f.a.Ripple,{color:"primary",type:"submit",disabled:a,children:[a&&Object(S.jsx)(y.a,{color:"white",size:"sm"}),Object(S.jsx)("span",{className:"ml-50",children:"Add Funds"})]})})]})}})]})]})}),D=function(e){var t=e.userId,s=(e.userData,Object(u.b)()),a=Object(i.useState)(!1),l=Object(r.a)(a,2),o=l[0],j=l[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)(f.a.Ripple,{className:"text-center mb-1",color:"danger",outline:!0,block:!0,onClick:function(){return j(!o)},children:"Deduct Funds"}),Object(S.jsxs)(p.a,{isOpen:o,toggle:function(){return j(!o)},className:"modal-dialog-centered",children:[Object(S.jsx)(v.a,{toggle:function(){return j(!o)},children:"Deduct Funds"}),Object(S.jsx)(_.d,{initialValues:{amount:"",reason:"",user_id:t},validationSchema:A,onSubmit:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.setSubmitting,e.next=3,s(Object(d.b)(t));case 3:c(!1),j(!o);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,s=e.touched,a=e.isSubmitting;return Object(S.jsxs)(_.c,{children:[Object(S.jsxs)(g.a,{children:[Object(S.jsxs)(N.a,{children:[Object(S.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(S.jsx)(_.b,{type:"number",name:"amount",placeholder:"Amount",className:"form-control ".concat(t.amount&&s.amount&&"is-invalid")}),Object(S.jsx)(_.a,{name:"amount",component:"div",className:"field-error text-danger"})]}),Object(S.jsxs)(N.a,{children:[Object(S.jsx)("label",{htmlFor:"reason",children:"Reason"}),Object(S.jsx)(_.b,{type:"text",name:"reason",placeholder:"Reason",className:"form-control ".concat(t.reason&&s.reason&&"is-invalid")}),Object(S.jsx)(_.a,{name:"reason",component:"div",className:"field-error text-danger"})]})]}),Object(S.jsx)(w.a,{children:Object(S.jsxs)(f.a.Ripple,{color:"primary",type:"submit",disabled:a,children:[a&&Object(S.jsx)(y.a,{color:"white",size:"sm"}),Object(S.jsx)("span",{className:"ml-50",children:"Deduct Funds"})]})})]})}})]})]})},R=(s(124),function(e){var t=e.selectedUser,s=e.userData;return Object(S.jsxs)(x.a,{className:"plan-card border-primary",children:[Object(S.jsx)(h.a,{className:"d-flex justify-content-between align-items-center pt-75 pb-1"}),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(U,{userId:t.user_id,userData:s}),Object(S.jsx)(D,{userId:t.user_id,userData:s})]})]})}),z=s(507),F=s(497),E=s(834),q=s(1122),T=s(764),L=s(849),C=s(870),G=s(1169),I=s.n(G),P=function(e){var t,s,a,n,c,r,i=e.selectedUser,l=e.detail;return Object(S.jsx)(x.a,{children:Object(S.jsx)(O.a,{children:Object(S.jsxs)(j.a,{children:[Object(S.jsxs)(m.a,{xl:"6",lg:"12",className:"d-flex flex-column justify-content-between border-container-lg",children:[Object(S.jsx)("div",{className:"user-avatar-section",children:Object(S.jsxs)("div",{className:"d-flex justify-content-start",children:[function(){if(null!==i&&i.avatar)return Object(S.jsx)("img",{src:i.avatar,alt:"user-avatar",className:"img-fluid rounded",height:"104",width:"104"});var e=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(S.jsx)(z.a,{initials:!0,color:e,className:"rounded",content:i.names,contentStyles:{borderRadius:0,fontSize:"calc(36px)",width:"100%",height:"100%"},style:{height:"90px",width:"90px"}})}(),Object(S.jsx)("div",{className:"d-flex flex-column ml-1",children:Object(S.jsxs)("div",{className:"user-info mt-2",children:[Object(S.jsx)("h4",{className:"mb-0",children:null!==i?i.names:"Eleanor Aguilar"}),Object(S.jsx)(F.a,{tag:"span",children:null!==i?i.email:"eleanor.aguilar@gmail.com"})]})})]})}),Object(S.jsxs)("div",{className:"d-flex align-items-center user-total-numbers",children:[Object(S.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(S.jsx)("div",{className:"color-box bg-light-primary",children:Object(S.jsx)(E.a,{className:"text-primary"})}),Object(S.jsxs)("div",{className:"ml-1",children:[Object(S.jsx)("h5",{className:"mb-0",children:i.balance.toLocaleString("en-US",{style:"currency",currency:"NGN"})}),Object(S.jsx)("small",{children:"Naira Balance"})]})]}),Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[Object(S.jsx)("div",{className:"color-box bg-light-success",children:Object(S.jsx)(E.a,{className:"text-success"})}),Object(S.jsxs)("div",{className:"ml-1",children:[Object(S.jsx)("h5",{className:"mb-0",children:i.appia_coins}),Object(S.jsx)("small",{children:"Appia Coin"})]})]})]}),Object(S.jsxs)("div",{className:"mt-3 mr-5",children:[Object(S.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(q.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"User Id"})]}),Object(S.jsx)(F.a,{className:"mb-0",children:null!==i?i.user_id:"eleanor.aguilar"})]}),Object(S.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center my-50",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(T.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Status"})]}),Object(S.jsx)(F.a,{className:"text-capitalize mb-0",children:null!==i&&i.status||"Active"})]}),Object(S.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center my-50",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(L.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Phone No"})]}),Object(S.jsx)(F.a,{className:"text-capitalize mb-0",children:i.phone})]})]})]}),Object(S.jsx)(m.a,{xl:"6",lg:"12",className:"mt-2 mt-xl-0",children:Object(S.jsxs)("div",{className:"user-info-wrapper",children:[null!==(null===l||void 0===l?void 0:l.user_bank_details)?Object(S.jsxs)("div",{className:"mt-2",children:[Object(S.jsx)("div",{className:"user-info-title",children:Object(S.jsx)(I.a,{children:" Bank Details: "})}),Object(S.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-0",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(q.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Name"})]}),Object(S.jsx)(F.a,{className:"mb-0",children:null===l||void 0===l||null===(t=l.user_bank_details)||void 0===t?void 0:t.account_name})]}),Object(S.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(C.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Number"})]}),Object(S.jsx)(F.a,{className:"mb-0",children:null===l||void 0===l||null===(s=l.user_bank_details)||void 0===s?void 0:s.account_number})]}),Object(S.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(L.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Bank Name"})]}),Object(S.jsx)(F.a,{className:"mb-0",children:null===l||void 0===l||null===(a=l.user_bank_details)||void 0===a?void 0:a.bank_name})]})]}):"",Object(S.jsxs)("div",{className:"mt-2",children:[Object(S.jsx)("div",{className:"user-info-title",children:Object(S.jsx)(I.a,{children:" Providus Details: "})}),Object(S.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-0",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(q.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Name"})]}),Object(S.jsx)(F.a,{className:"mb-0",children:null===l||void 0===l||null===(n=l.user_providus_details)||void 0===n?void 0:n.account_name})]}),Object(S.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(C.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Account Number"})]}),Object(S.jsx)(F.a,{className:"mb-0",children:null===l||void 0===l||null===(c=l.user_providus_details)||void 0===c?void 0:c.account_number})]}),Object(S.jsxs)("div",{className:"d-flex flex-wrap align-items-center mt-1",children:[Object(S.jsxs)("div",{className:"user-info-title",children:[Object(S.jsx)(L.a,{className:"mr-1",size:14}),Object(S.jsx)(F.a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:"Bank Name"})]}),Object(S.jsx)(F.a,{className:"mb-0",children:null===l||void 0===l||null===(r=l.user_providus_details)||void 0===r?void 0:r.bank_name})]})]})]})})]})})})},J=s(518);s(544),t.default=function(e){var t=Object(u.c)((function(e){return e.appiaFunds})),s=Object(u.b)(),a=Object(l.i)().id,x=Object(i.useState)(null),h=Object(r.a)(x,2),O=h[0],f=h[1],p=Object(i.useState)(null),v=Object(r.a)(p,2),g=v[0],N=v[1],w=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)({url:"/admin/users/details/".concat(t),method:"GET"},s);case 2:if(!(a=e.sent)||!a.data.success){e.next=8;break}return e.next=6,N(a.data);case 6:e.next=9;break;case 8:Object(J.l)("Oops!","Something went wrong.","error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){s(Object(d.e)(t.allData,a)),w(a)}),[s]),Object(i.useEffect)((function(){null!==Object(J.g)()&&f(JSON.parse(localStorage.getItem("userData")))}),[]),null!==t.selectedUser&&void 0!==t.selectedUser?Object(S.jsx)("div",{className:"app-user-view",children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)(m.a,{xl:"9",lg:"8",md:"7",children:Object(S.jsx)(P,{selectedUser:t.selectedUser,detail:g})}),Object(S.jsx)(m.a,{xl:"3",lg:"4",md:"5",children:Object(S.jsx)(R,{selectedUser:t.selectedUser,userData:O})})]})}):Object(S.jsxs)(b.a,{color:"danger",children:[Object(S.jsx)("h4",{className:"alert-heading",children:"Users not found"}),Object(S.jsxs)("div",{className:"alert-body",children:["Users with id: ",a," doesn't exist. Check list of all Users: ",Object(S.jsx)(o.b,{to:"/appia/user/list",children:"Users List"})]})]})}},544:function(e,t,s){},896:function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"d",(function(){return l})),s.d(t,"e",(function(){return o})),s.d(t,"a",(function(){return d})),s.d(t,"b",(function(){return u}));var a=s(521),n=s.n(a),c=s(522),r=s(518),i=function(){return function(){var e=Object(c.a)(n.a.mark((function e(t){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)({url:"/admin/users",method:"GET"},t);case 2:if(!((s=e.sent)&&s.data.data&&s.data.success)){e.next=8;break}return e.next=6,t({type:"GET_ALL_DATA",data:s.data.data});case 6:e.next=10;break;case 8:console.log(s),Object(r.l)("Oops!","Something went wrong.","error");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e,t){return function(){var s=Object(c.a)(n.a.mark((function s(a){var c,i,l,o,d,u,j,m,b,x;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:c=t.q,i=void 0===c?"":c,l=t.perPage,o=void 0===l?10:l,d=t.page,u=void 0===d?1:d,j=t.status,m=void 0===j?null:j,b=i.toLowerCase(),x=e.filter((function(e){return(e.email.toLowerCase().includes(b)||e.names.toLowerCase().includes(b)||e.referral_code.toLowerCase().includes(b))&&e.status===(m||e.status)})),a({type:"GET_FILTERED_USER_DATA",data:Object(r.i)(x,o,u),totalPages:x.length,params:t});case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},o=function(e,t){return function(){var s=Object(c.a)(n.a.mark((function s(a){var c;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:c=e.find((function(e){return e.user_id===t})),a({type:"GET_USER",selectedUser:c});case 2:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},d=function(e){var t=e.user_id,s=e.reason,a=e.amount;return function(){var e=Object(c.a)(n.a.mark((function e(c){var i,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify({user_id:t,reason:s,amount:a}),e.next=3,Object(r.a)({url:"/admin/users/add",method:"POST",body:i},c);case 3:(l=e.sent)&&l.data.success?Object(r.l)("Good!","Funds of ".concat(a," was successfully added and is pending aproval!."),"success"):(console.log(l),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=function(e){var t=e.user_id,s=e.reason,a=e.amount;return function(){var e=Object(c.a)(n.a.mark((function e(c){var i,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify({user_id:t,reason:s,amount:a}),e.next=3,Object(r.a)({url:"/admin/users/deduct",method:"POST",body:i},c);case 3:(l=e.sent)&&l.data.success?Object(r.l)("Good!","Funds of ".concat(a," was successfully deducted and is pending aproval!."),"success"):(console.log(l),Object(r.l)("Oops!","Somthing went wrong with your network.","error"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=211.bc7d7241.chunk.js.map